<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>Settings</title>
    {% include 'head.html' %}
</head>

<body class="d-flex flex-column h-100">
    {% include 'nav.html' %}

    <main role="main" class="flex-shrink-0 mb-4">
        <div class="container">
            <form id="form-settings">
                <h2>Settings</h2>
                <div class="form-group">

                    <!--Timezone-->
                    <label for="timezone">Timezone:</label>
                    <select class="custom-select" id="timezone" name="timezone">
                        <option selected>Select Timezone</option>
                        {% include 'timezones.html' %}
                    </select>

                    <!--Temperature-->
                    <div class="row mt-2">
                        <legend class="col-form-label col-sm-3 pt-0">Temperature:</legend>
                        <div class="col-sm-9">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="units" id="tempRadios1" value="celsius" checked>
                                <label class="form-check-label" for="tempRadios1">Celsius (°C)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="units" id="tempRadios2" value="fahrenheit">
                                <label class="form-check-label" for="tempRadios2">Fahrenheit (°F)</label>
                            </div>
                        </div>
                        <small id="maxTempHelp" class="form-text text-muted col-12">Any new firing schedules will default to this</small>
                    </div>

                    <!--Max Temperature-->
                    <div class="form-group mt-3">
                        <label class="degrees" for="maxTemp">Alarm Max Temperature <span id="max-temp-degrees"></span></label>
                        <input type="number" min="1" max="3000" class="form-control" name="max-temp" id="max-temp" aria-describedby="max-temp" placeholder="2500">
                        <small id="maxTempHelp" class="form-text text-muted">Shuts off kiln if temperature exceeded</small>
                    </div>

                    <!--Electricity Cost-->
                    <div class="form-group mt-1">
                            <label for="volts">Kiln Voltage</label>
                            <input type="number" step="1" class="form-control" name="volts" id="volts" placeholder="220">
                            <small id="voltsHelp" class="form-text text-muted">Either 120 or 220 volts for USA, 220 volts for Europe</small>
                        </div>
                    <div class="form-group mt-1">
                        <label for="maxTemp">Electricity Cost Per Kilowatt</label>
                        <input type="number" step="0.01" class="form-control" name="cost" id="cost" placeholder="0.14">
                    </div>
                </div>

                <h4 class="mt-4">Email Notifications</h4>
                <p>Get email updates when your firing has completed, or if your kiln has any thermal errors.</p>
                <p>I highly recommend you create a new gmail address specifically for notifications. Once you do <a href="https://www.google.com/settings/security/lesssecureapps">enable less secure login</a> as well as <a href="https://accounts.google.com/DisplayUnlockCaptcha">disabled recaptcha.</a></p>

                <!--Enable Notifications-->
                <div class="row mt-2">
                    <legend class="col-form-label col-sm-4 pt-0">Enable Notifications:</legend>
                    <div class="col-sm-8">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="enable-email" id="enable-email-on" value="true" checked>
                            <label class="form-check-label" for="enable-email-on">Enabled</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="enable-email" id="enable-email-off" value="false">
                            <label class="form-check-label" for="enable-email-off">Disabled</label>
                        </div>
                    </div>
                </div>

                <!--Sender Email and Password-->
                <div class="row mt-3">
                    <div class="form-group col-6">
                        <label for="sender">Sender Email Address</label>
                        <input type="email" class="form-control" id="sender" name="sender" aria-describedby="senderEmailNote" placeholder="Enter email">
                        <small id="senderEmailNote" class="form-text text-muted">This must be a GMAIL address</small>
                    </div>
                    <div class="form-group col-6">
                        <label for="sender-password">Sender Password</label>
                        <input type="password" class="form-control" id="sender-password" name="sender-password" placeholder="Password">
                    </div>
                </div>

                <!--Receiver Email-->
                <div class="form-group">
                    <label for="receiver">Receiver Email Address</label>
                    <input type="email" class="form-control" id="receiver" name="receiver" placeholder="Enter email">
                </div>

                <!--<button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Settings</button>-->
                
            </form>
            <button id="btn-save-settings" class="btn btn-primary"><i class="fas fa-save"></i> Save Settings</button>

            <div id="alert-container"></div>
            

        </div>
    </main>

    {% include 'footer.html' %}

    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script>
        $(document).ready(function() {
            console.log( "document loaded" );
            LoadSettings();
        });
    </script>

</body>

</html>